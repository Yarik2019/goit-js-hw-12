{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n// import { getPhotos, perPage } from './js/pixabay-api';\nimport { imagesMarkup } from './js/render-functions';\nimport iconError from './img/error.svg';\nimport iconSuccess from './img/success.svg';\nimport iconCaution from './img/caution.svg';\n\nconst formElement = document.querySelector('.js-form');\nconst ul = document.querySelector('.js-gallery-list');\nconst loader = document.querySelector('.loader');\nconst loadBtn = document.querySelector('.load-btn');\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\nlet searchQuery;\nlet currentPage = 1;\nlet numberOfPages = null;\n\n// function showClassAdd(elem) {\n//   elem.classList.add('hidden');\n// }\n\n// function hideClassRemove(elem) {\n//   elem.classList.remove('hidden');\n// }\n\n// formElement.addEventListener('submit', onSearchGallery);\n// loadBtn.addEventListener('click', OnLoadMore);\n\n// async function onSearchGallery(event) {\n//   event.preventDefault();\n//   ul.innerHTML = '';\n//   currentPage = 1;\n//   showClassAdd(loadBtn);\n\n//   const formData = new FormData(formElement);\n//   searchQuery = formData.get('search').trim();\n\n//   if (searchQuery === '') {\n//     return iziToastMessageError('The field cannot be empty!');\n//   }\n\n//   hideClassRemove(loader);\n\n//   try {\n//     const data = await getPhotos(searchQuery, currentPage);\n\n//     if (data.hits.length === 0) {\n//       return iziToastMessageError(\n//         'Sorry, there are no images matching your search query. Please try again!'\n//       );\n//     }\n\n//     if (data.totalHits !== 0) {\n//       iziToastMessageSuccess(\n//         `We found ${data.totalHits} images for your request!`\n//       );\n//     }\n\n//     if (data.totalHits > 15) {\n//       hideClassRemove(loadBtn);\n//     }\n\n//     numberOfPages = Math.ceil(data.totalHits / perPage);\n\n//     ul.innerHTML = imagesMarkup(data.hits);\n\n//     lightbox.refresh();\n//   } catch (error) {\n//     console.log(error);\n//   } finally {\n//     showClassAdd(loader);\n//     event.target.reset();\n//   }\n// }\n\n// async function OnLoadMore() {\n//   showClassAdd(loadBtn);\n//   currentPage += 1;\n\n//   hideClassRemove(loader);\n\n//   try {\n//     const data = await getPhotos(searchQuery, currentPage);\n//     ul.insertAdjacentHTML('beforeend', imagesMarkup(data.hits));\n\n//     lightbox.refresh();\n\n//     if (currentPage < numberOfPages) {\n//       hideClassRemove(loadBtn);\n//     }\n\n//     if (currentPage === numberOfPages) {\n//       iziToastMessageWarning(\n//         \"We're sorry, but you've reached the end of search results.\"\n//       );\n//     }\n//   } catch (error) {\n//     console.log(error);\n//   } finally {\n//     showClassAdd(loader);\n//     scrollPage();\n//   }\n// }\n\n// function scrollPage() {\n//   const pictureHeight = ul.firstElementChild.getBoundingClientRect().height;\n\n//   window.scrollBy({\n//     top: pictureHeight * 2,\n//     behavior: 'smooth',\n//   });\n// }\n\n// function iziToastMessageError(message) {\n//   return iziToast.error({\n//     iconUrl: iconError,\n//     title: 'Error',\n//     titleColor: '#fff',\n//     messageColor: '#fff',\n//     backgroundColor: '#ef4040',\n//     position: 'topRight',\n//     message: message,\n//   });\n// }\n\n// function iziToastMessageSuccess(message) {\n//   return iziToast.success({\n//     iconUrl: iconSuccess,\n//     title: 'OK',\n//     titleColor: '#fff',\n//     messageColor: '#fff',\n//     backgroundColor: '#59a10d',\n//     position: 'topRight',\n//     message: message,\n//   });\n// }\n\n// function iziToastMessageWarning(message) {\n//   return iziToast.warning({\n//     iconUrl: iconCaution,\n//     title: 'WARNING',\n//     titleColor: '#fff',\n//     messageColor: '#fff',\n//     backgroundColor: '#09f',\n//     position: 'topRight',\n//     message: message,\n//   });\n// }\n"],"names":["SimpleLightbox"],"mappings":"svBAUoB,SAAS,cAAc,UAAU,EAC1C,SAAS,cAAc,kBAAkB,EACrC,SAAS,cAAc,SAAS,EAC/B,SAAS,cAAc,WAAW,EACjC,IAAIA,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC"}